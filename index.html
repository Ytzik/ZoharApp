<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZOHAR APP</title>
    <style>
        /* 专转 住住 注转 转拽注转 住专 */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: sans-serif; margin: 0; background: #f0f0f0; padding-bottom: 100px; }
        
        header { background: #2c3e50; color: white; text-align: center; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        .container { padding: 15px; }
        
        /* 住转专转 驻 - 砖砖 -!important   砖 注 */
        .page { display: none !important; }
        .page.active { display: block !important; }

        /* 专住 */
        .card { background: white; padding: 15px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }

        /* 住专  - 转 专转 转 注 */
        nav { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            width: 100%; 
            background: #ffffff; 
            display: flex; 
            height: 80px; 
            border-top: 2px solid #3498db;
            z-index: 9999; /*  砖转驻专 转 注  */
        }
        
        .nav-btn { 
            flex: 1; 
            border: none; 
            background: none; 
            font-size: 18px; 
            font-weight: bold; 
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .nav-btn.active { background: #eef7ff; color: #3498db; border-top: 4px solid #3498db; }

        /* 驻转专 爪注  */
        .btn-done { background: #27ae60; color: white; border: none; padding: 12px; border-radius: 8px; font-weight: bold; }
        
        input { width: 100%; padding: 12px; font-size: 16px; border: 1px solid #ccc; border-radius: 8px; }
    </style>
</head>
<body>

<header>
    <h2 id="title">ZOHAR APP</h2>
</header>

<div id="p-meds" class="page active">
    <div class="container">
        <div class="card">
            <input type="text" id="newInput" placeholder="拽 砖 转专驻...">
            <button onclick="fAdd()" style="width:100%; margin-top:10px; padding:12px; background:#3498db; color:white; border:none; border-radius:8px;">住祝 专砖</button>
        </div>
        <div id="mList"></div>
    </div>
</div>

<div id="p-history" class="page">
    <div class="container">
        <h3> 驻注转</h3>
        <div id="hList"></div>
    </div>
</div>

<div id="p-settings" class="page">
    <div class="container">
        <div class="card">
            <p> 转:</p>
            <button onclick="fReset()" style="width:100%; padding:15px; background:#e74c3c; color:white; border:none; border-radius:8px;">拽  转 砖</button>
        </div>
    </div>
</div>

<nav>
    <button id="b1" class="nav-btn active" onclick="fGo('meds', this)"> 转专驻转</button>
    <button id="b2" class="nav-btn" onclick="fGo('history', this)"> </button>
    <button id="b3" class="nav-btn" onclick="fGo('settings', this)">锔 专转</button>
</nav>

<script>
    // 驻拽爪转  - 砖转砖转 砖转 驻拽爪转 拽爪专  注 注转 拽
    function fGo(id, btn) {
        console.log("Navigating to: " + id); // 拽 砖
        
        // 1. 住转专转  驻
        document.getElementById('p-meds').classList.remove('active');
        document.getElementById('p-history').classList.remove('active');
        document.getElementById('p-settings').classList.remove('active');
        
        // 2. 爪转 祝 专
        document.getElementById('p-' + id).classList.add('active');
        
        // 3. 注爪 驻转专 
        document.getElementById('b1').classList.remove('active');
        document.getElementById('b2').classList.remove('active');
        document.getElementById('b3').classList.remove('active');
        btn.classList.add('active');

        // 注 转专转
        const titles = {meds: '转专驻转 砖', history: ' 转', settings: '专转'};
        document.getElementById('title').innerText = titles[id];

        if(id === 'history') fRenderH();
    }

    // 住驻转 转专驻
    function fAdd() {
        const val = document.getElementById('newInput').value;
        if(!val) return;
        let meds = JSON.parse(localStorage.getItem('zm') || '[]');
        meds.push({id: Date.now(), n: val});
        localStorage.setItem('zm', JSON.stringify(meds));
        document.getElementById('newInput').value = '';
        fRenderM();
    }

    // 专砖 
    function fTake(name) {
        let logs = JSON.parse(localStorage.getItem('zh') || '[]');
        logs.unshift({n: name, t: new Date().toLocaleString('he-IL')});
        localStorage.setItem('zh', JSON.stringify(logs.slice(0,30)));
        alert("专砖: " + name);
    }

    // 爪转 专砖转 转专驻转
    function fRenderM() {
        let meds = JSON.parse(localStorage.getItem('zm') || '[]');
        let html = '';
        for(let m of meds) {
            html += `<div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                <b>${m.n}</b>
                <button class="btn-done" onclick="fTake('${m.n}')">爪注</button>
            </div>`;
        }
        document.getElementById('mList').innerHTML = html;
    }

    // 爪转 
    function fRenderH() {
        let logs = JSON.parse(localStorage.getItem('zh') || '[]');
        let html = '';
        for(let l of logs) {
            html += `<div class="card"><b>${l.n}</b><br><small>${l.t}</small></div>`;
        }
        document.getElementById('hList').innerHTML = html;
    }

    function fReset() {
        if(confirm("拽 转  注?")) {
            localStorage.clear();
            location.reload();
        }
    }

    // 专爪 专砖转
    fRenderM();
</script>

</body>
</html>
